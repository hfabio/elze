(this.webpackJsonpelze=this.webpackJsonpelze||[]).push([[0],{58:function(e,t,n){"use strict";n.r(t);var a,o,r,l,c=n(0),i=n.n(c),u=n(10),s=n.n(u),d=n(2),v=n(16),j=n(17),b=n.n(j),p=n(23),f=n(6),h=function(){localStorage.clear()},O=function(){var e=localStorage.getItem("elze");return!!e&&JSON.parse(e)},A=function(e){e||h(),localStorage.setItem("elze",JSON.stringify({lastUpdate:(new Date).toISOString(),data:e}))},x=function(){return(new Date).toString().split("GMT")[0].replace(/:/g,"-").trim()},m=function(e){var t=Object.keys(e[0]);console.log({headers:t,data:e});var n=[t.map((function(e){return"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1))}))].concat(Object(v.a)(e.map((function(e){return t.reduce((function(t,n){return[].concat(Object(v.a)(t),[e[n]||""])}),[])}))));return console.log({rows:n}),n.map((function(e){return'"'.concat(e.join('";"'),'"')})).join("\n")},g=function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var a=new FileReader;a.onload=function(t){return e(JSON.parse(t.target.result))},a.onerror=function(e){return n(e)},a.readAsText(t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=n(25),S=n(12),C=n(21),y=n(18),k=(y.default.button(a||(a=Object(C.a)(["\n  background-color: ",";\n  color: ",";\n  font-size: ",";\n  border-radius: 16px;\n"])),(function(e){var t=e.color;return t||"blue"}),(function(e){var t=e.fontColor;return t||"black"}),(function(e){var t=e.fontSize;return t||"16px"})),y.default.header(o||(o=Object(C.a)(["\n  margin: 10vh 0 10vh;\n  width: 100vw;\n  height: 10vh;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 5vw 0;\n"])))),R=y.default.h1(r||(r=Object(C.a)(["\n  font-size: 56px;\n  width: 100vw;\n  height: 5vh;\n  padding-top: 5px;\n  display: inline-block;\n  text-align: center;\n"]))),B=y.default.span(l||(l=Object(C.a)(["\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  color: #939292;\n"]))),E=n(36),D=n.n(E),N=n(1),F="Sem informa\xe7\xf5es",z=function(e,t){var n=e.toLowerCase(),a=t.toLowerCase();return n>a?1:a>n?-1:0},I=function(e,t){return z(e.nome||"",t.nome||"")},U=function(e,t){return z(e.projeto||"",t.projeto||"")};var Y=function(e){var t=e.alunos,n=e.editCallback,a=Object(c.useMemo)((function(){return[{name:"index",selector:function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.index)&&void 0!==t?t:F},sortable:!1,searchable:!1,omit:!0},{name:"Projeto",selector:function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.projeto)&&void 0!==t?t:F},sortable:!0,searchable:!0,sortFunction:U},{name:"ID Projeto",selector:function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.projetoId)&&void 0!==t?t:F},sortable:!0,searchable:!0},{name:"Bolsista",selector:function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.nome)&&void 0!==t?t:F},sortable:!0,searchable:!0,wrap:!0,sortFunction:I},{name:"CPF",selector:function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.cpf)&&void 0!==t?t:F},sortable:!0,searchable:!0},{name:"valor",selector:function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.valor)&&void 0!==t?t:F},sortable:!0,searchable:!0},{name:"inicio",selector:function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.inicio)&&void 0!==t?t:F},sortable:!0,searchable:!0},{name:"final",selector:function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.final)&&void 0!==t?t:F},sortable:!0,searchable:!0},{name:"Situa\xe7\xe3o atual",selector:function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.situacaoAtual)&&void 0!==t?t:F},sortable:!0,searchable:!0,wrap:!0},{name:"Relat\xf3rio",selector:function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.situacaoAtual)&&void 0!==t?t:F},sortable:!0,searchable:!0,wrap:!0},{name:"Atividades",selector:function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.atividades)&&void 0!==t?t:F},sortable:!0,searchable:!0,wrap:!0},{name:"Entrega",selector:function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.atividades)&&void 0!==t?t:F},sortable:!0,searchable:!0},{name:"Editar",selector:function(e){return Object(N.jsx)("img",{src:"data:image/png;base64,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",style:{cursor:"pointer",width:"24px"},alt:"Bot\xe3o de editar",onClick:function(){return n(e.index)}})},sortable:!1,searchable:!1}]}),[]);return Object(N.jsx)(D.a,{columns:a,data:t,pagination:!0,defaultSortAsc:!0})},M=n(13),L=n(14),G=n(19),J=n(11);function Q(e){var t=e.value,n=e.onChange,a=e.emptyRule,o=e.placeholder,r=e.cpf,l=e.large,c=e.textArea;return Object(N.jsxs)(L.a,{lg:l?12:6,children:[Object(N.jsx)(J.a.Label,{children:o}),r?Object(N.jsx)(J.a.Control,{type:"text",placeholder:o,value:t,onChange:function(e){var t=e.target.value;return n(function(e){return e.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1")}(t))}}):Object(N.jsx)(J.a.Control,{type:"text",placeholder:o,value:t,onChange:function(e){var t=e.target.value;return n(t)},as:c?"textarea":"input",rows:"3"}),a&&Object(N.jsx)(J.a.Text,{className:"text-muted",children:"Este campo n\xe3o deveria ficar vazio!"})]})}function K(e){var t=e.value,n=e.onChange,a=e.emptyRule,o=e.placeholder;return Object(N.jsxs)(L.a,{lg:6,children:[Object(N.jsx)(J.a.Label,{children:o}),Object(N.jsx)(J.a.Control,{type:"date",placeholder:o,value:t,onChange:function(e){var t=e.target.value;return n(t)}}),a&&Object(N.jsx)(J.a.Text,{className:"text-muted",children:"Este campo n\xe3o deveria ficar vazio!"})]})}var H=function(e){var t,n,a,o,r,l,i,u,s,d,v=e.show,j=e.closeModal,b=e.saveData,p=e.aluno,h=Object(c.useState)((null===p||void 0===p?void 0:p.projeto)||""),O=Object(f.a)(h,2),A=O[0],x=O[1],m=Object(c.useState)(null!==(t=null===p||void 0===p?void 0:p.projetoId)&&void 0!==t?t:""),g=Object(f.a)(m,2),w=g[0],C=g[1],y=Object(c.useState)(null!==(n=null===p||void 0===p?void 0:p.nome)&&void 0!==n?n:""),k=Object(f.a)(y,2),R=k[0],B=k[1],E=Object(c.useState)(null!==(a=null===p||void 0===p?void 0:p.cpf)&&void 0!==a?a:""),D=Object(f.a)(E,2),F=D[0],z=D[1],I=Object(c.useState)(null!==(o=null===p||void 0===p?void 0:p.valor)&&void 0!==o?o:0),U=Object(f.a)(I,2),Y=U[0],J=U[1],H=Object(c.useState)(null!==(r=null===p||void 0===p?void 0:p.inicio)&&void 0!==r?r:""),P=Object(f.a)(H,2),V=P[0],Z=P[1],X=Object(c.useState)(null!==(l=null===p||void 0===p?void 0:p.final)&&void 0!==l?l:""),T=Object(f.a)(X,2),q=T[0],W=T[1],$=Object(c.useState)(null!==(i=null===p||void 0===p?void 0:p.situacao)&&void 0!==i?i:""),_=Object(f.a)($,2),ee=_[0],te=_[1],ne=Object(c.useState)(null!==(u=null===p||void 0===p?void 0:p.relatorio)&&void 0!==u?u:""),ae=Object(f.a)(ne,2),oe=ae[0],re=ae[1],le=Object(c.useState)(null!==(s=null===p||void 0===p?void 0:p.atividades)&&void 0!==s?s:""),ce=Object(f.a)(le,2),ie=ce[0],ue=ce[1],se=Object(c.useState)(null!==(d=null===p||void 0===p?void 0:p.entrega)&&void 0!==d?d:""),de=Object(f.a)(se,2),ve=de[0],je=de[1];return v?Object(N.jsxs)(G.a,{show:v,onHide:j,backdrop:"static",size:"xl",children:[Object(N.jsx)(G.a.Header,{closeButton:!0,children:Object(N.jsx)(G.a.Title,{children:"Adicionar novo aluno"})}),Object(N.jsx)(G.a.Body,{children:Object(N.jsxs)(L.a,{lg:12,children:[Object(N.jsxs)(M.a,{children:[Object(N.jsx)(Q,{value:A,onChange:x,emptyRule:0===A.length,placeholder:"nome do projeto"}),Object(N.jsx)(Q,{value:w,onChange:C,emptyRule:0===w.length,placeholder:"Id do projeto"})]}),Object(N.jsxs)(M.a,{children:[Object(N.jsx)(Q,{value:R,onChange:B,emptyRule:0===R.length,placeholder:"nome do aluno"}),Object(N.jsx)(Q,{value:F,onChange:z,emptyRule:0===F.length,placeholder:"CPF do aluno",cpf:!0})]}),Object(N.jsx)(M.a,{children:Object(N.jsx)(Q,{value:Y,onChange:J,emptyRule:0===Y.length,placeholder:"Valor da bolsa"})}),Object(N.jsxs)(M.a,{children:[Object(N.jsx)(K,{value:V,onChange:Z,emptyRule:!V||0===(null===V||void 0===V?void 0:V.length),placeholder:"Data de inicio"}),Object(N.jsx)(K,{value:q,onChange:W,emptyRule:!q||0===(null===q||void 0===q?void 0:q.length),placeholder:"Final"})]}),Object(N.jsx)(M.a,{children:Object(N.jsx)(Q,{value:ee,onChange:te,emptyRule:0===ee.length,placeholder:"Situa\xe7\xe3o atual",large:!0,textArea:!0})}),Object(N.jsx)(M.a,{children:Object(N.jsx)(Q,{value:oe,onChange:re,emptyRule:0===oe.length,placeholder:"Relat\xf3rio",large:!0,textArea:!0})}),Object(N.jsx)(M.a,{children:Object(N.jsx)(Q,{value:ie,onChange:ue,emptyRule:0===ie.length,placeholder:"Atividades",large:!0,textArea:!0})}),Object(N.jsx)(M.a,{children:Object(N.jsx)(K,{value:ve,onChange:je,emptyRule:!ve||0===(null===ve||void 0===ve?void 0:ve.length),placeholder:"Entrega"})})]})}),Object(N.jsxs)(G.a.Footer,{children:[Object(N.jsx)(S.a,{variant:"secondary",onClick:j,children:"Close"}),Object(N.jsx)(S.a,{variant:"primary",onClick:function(){b({projeto:A,projetoId:w,nome:R,cpf:F,valor:Y,inicio:V,final:q,situacao:ee,relatorio:oe,atividades:ie,entrega:ve}),j()},children:"Salvar"})]})]}):null},P=function(){var e=Object(c.useState)([]),t=Object(f.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)(""),r=Object(f.a)(o,2),l=r[0],i=r[1],u=Object(c.useState)(!1),s=Object(f.a)(u,2),j=s[0],h=s[1],C=Object(c.useState)(!1),y=Object(f.a)(C,2),E=y[0],D=y[1],F=Object(c.useRef)();Object(c.useEffect)((function(){var e,t=O();(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.length)>0&&a((function(){return t.data}))}),[]),Object(c.useEffect)((function(){var e=O();JSON.stringify(null===e||void 0===e?void 0:e.data)!==JSON.stringify(n)&&A(n)}),[n]),Object(c.useEffect)((function(){console.log(j)}),[j]);var z=function(e){"csv"===e?function(e){var t=new Blob([m(e)],{type:"text/csv"}),n=document.createEvent("MouseEvents"),a=document.createElement("a");a.download="backup elze ".concat(x(),".csv"),a.href=window.URL.createObjectURL(t),a.dataset.downloadurl=["text/csv",a.download,a.href].join(":"),n.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),a.dispatchEvent(n)}(n):function(e){var t=new Blob([JSON.stringify(e,void 0,4)],{type:"text/json"}),n=document.createEvent("MouseEvents"),a=document.createElement("a");a.download="backup elze ".concat(x(),".json"),a.href=window.URL.createObjectURL(t),a.dataset.downloadurl=["text/json",a.download,a.href].join(":"),n.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),a.dispatchEvent(n)}(n)},I=function(){var e=Object(p.a)(b.a.mark((function e(t){var o,r,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(r=t.target).files.length){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,g(r.files[0]);case 5:(l=e.sent)&&Array.isArray(l)&&""!==(null===(o=l[0])||void 0===o?void 0:o.name)?n.length>0?window.confirm("Deseja substituir os dados locais pelos dados de ".concat(l.length," alunos?"))&&a(l):a(l):(alert("Problemas ao importar dados"),r.files=null);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){return j||!isNaN(String(E))};return Object(N.jsxs)("section",{children:[U()&&Object(N.jsx)(H,{show:U(),closeModal:function(){h(!1),D(null)},saveData:function(e){if(E){var t=Object(v.a)(n);t[E]=e,a(t),D(null)}else a((function(t){return[].concat(Object(v.a)(t),[e])}))},aluno:n[E]}),Object(N.jsxs)("section",{children:[Object(N.jsx)(R,{children:"Elze - Gest\xe3o de alunos"}),Object(N.jsxs)(k,{children:[Object(N.jsx)(S.a,{variant:"primary",onClick:function(){h(!0)},children:"Adicionar aluno"}),Object(N.jsx)(S.a,{variant:"primary",onClick:function(){return z("json")},children:"Fazer backup (.JSON)"}),Object(N.jsx)(S.a,{variant:"primary",onClick:function(){return z("csv")},children:"Fazer backup (.CSV)"}),Object(N.jsx)(S.a,{variant:"primary",onClick:function(){return F.current.click()},children:"Importar backup (.JSON)"}),Object(N.jsx)(S.a,{variant:"danger",onClick:function(){var e=window.confirm("Voc\xea tem certeza de que deseja limpar os dados locais sobre os seus alunos?"),t=window.confirm("Caso n\xe3o tenha feito um backup n\xe3o ser\xe1 poss\xedvel recuperar os dados!");e&&t&&a([])},children:"Limpar dados"}),Object(N.jsx)("input",{type:"file",accept:".json",onChange:I,style:{display:"none"},ref:F}),Object(N.jsx)("section",{className:"sm-2",children:Object(N.jsx)(w.a,{type:"text",placeholder:"Buscar aluno",value:l,onChange:function(e){var t=e.target;return i(t.value)}})})]})]}),Object(N.jsx)(Y,{alunos:n.filter((function(e){return JSON.stringify(e).toLowerCase().includes(l.toLowerCase())})).map((function(e,t){return Object(d.a)(Object(d.a)({},e),{},{index:t})})),editCallback:function(e){return D(e)}}),Object(N.jsx)(B,{children:"Nota: os dados contidos nessa p\xe1gina ficam armazenados no seu navegador. Caso deseje usar em outro dispositivo fa\xe7a o backup. Limpar o cache do seu navegador tamb\xe9m apagar\xe1 os dados!!"})]})};n(57);s.a.render(Object(N.jsx)(i.a.StrictMode,{children:Object(N.jsx)(P,{})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.c98c87f2.chunk.js.map